<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
</head>
<body>
  <button onclick="downloadBooks()" id="button1">Vote</button>
  <script>
      /*
    function downloadBooks(jsonp) {
        $.get('books.json', function(jsonp) {
            var processImages = function(data) {
                alert('ok');
                console.log(data);
            }
            alert('calling eval');
            eval(jsonp);
            alert('eval returned');
        });
    };
    */
    const ajaxRequest = new XMLHttpRequest();
    ajaxRequest.open("GET", "info.txt", true);

    function downloadBooks() {
      ajaxRequest.onreadystatechange = function () { 
	      if (ajaxRequest.readyState < 4) {
	        // while waiting response from server
	        document.getElementById('button1').innerHTML = "Voting...";
          }  else if  (ajaxRequest.readyState === 4) {   
	            // 4 = Response from server has been completely loaded.
	            if (ajaxRequest.status === 200)  { 
	              // http status is 200 - successful
		            document.getElementById('button1').innerHTML = ajaxRequest.responseText; 
            }
          }
        }
      }

  </script>
</body>
</html>